(()=>{var e={577(){const e=document.querySelector("body"),t=document.querySelectorAll(".review"),o=(document.querySelectorAll(".review__expand-btn"),document.querySelector(".reviews__modal")),n=document.querySelector(".reviews__modal-overlay"),r=document.querySelector(".reviews__modal-close"),l=document.querySelector(".review-modal"),a=document.querySelector(".review-modal__overlay"),s=document.querySelector(".review-button"),c=document.querySelector(".review-modal__close");t.forEach(t=>{const r=t.querySelector(".review__name"),l=t.querySelector(".review__inner"),a=o.querySelector(".reviews__modal-name"),s=o.querySelector(".reviews__modal-inner");console.log(e),t.addEventListener("click",t=>{"BUTTON"===t.target.tagName&&(e.style.overflow="hidden",o.style.display="block",n.style.display="block",a.innerHTML=`\n        <h5> ${r.textContent} </h5>\n      `,s.innerHTML=`\n        <p> ${l.textContent} </p>\n      `)})}),r.addEventListener("click",()=>{o.style.display="none",n.style.display="none",e.style.overflow="auto"}),n.addEventListener("click",()=>{o.style.display="none",n.style.display="none",e.style.overflow="auto"}),s&&s.addEventListener("click",()=>{e.style.overflow="hidden",l.style.display="block",a.style.display="block"}),c&&c.addEventListener("click",()=>{l.style.display="none",a.style.display="none",e.style.overflow="auto"}),a&&a.addEventListener("click",()=>{l.style.display="none",a.style.display="none",e.style.overflow="auto"})},739(){document.addEventListener("DOMContentLoaded",async function(){const e=document.querySelector(".review-modal"),t=document.querySelector(".review-modal__overlay"),o=document.getElementById("doctor"),n=document.getElementById("name"),r=document.getElementById("review"),l=document.getElementById("mail");try{const e=await fetch("https://usable-trust-8c353f5555.strapiapp.com/api/teams?populate=reviews"),{data:t}=await e.json();o.innerHTML="",t.forEach(e=>{const t=e.name,n=e.id,r=document.createElement("option");r.value=n,r.textContent=t,o.appendChild(r)})}catch(e){console.error("Ошибка загрузки специалистов:",e)}const a=document.querySelector(".review-modal__form");a.addEventListener("submit",async s=>{s.preventDefault();const c={name:n.value,review:r.value,team:{id:Number(o.value)},mail:l.value,date:(new Date).toISOString().split("T")[0]};try{const o=await fetch("https://usable-trust-8c353f5555.strapiapp.com/api/reviews?populate=team",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:c})});o.ok?(console.log("Отзыв успешно отправлен"),console.log(c.team),a.reset(),e.style.display="none",t.style.display="none"):console.error("Ошибка при отправке отзыва:",o.statusText)}catch(e){console.error("Ошибка при отправке отзыва:",e)}})})}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var l=t[n]={exports:{}};return e[n](l,l.exports,o),l.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";o(577),o(739)})()})();